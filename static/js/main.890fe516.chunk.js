(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(220)},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),o=a.n(s),c=a(8),l=(a(23),a(6)),i=a(5),m=a.n(i),u=function(){return r.a.createElement("div",{className:"w-full mb-10 w-750"},r.a.createElement("h1",{className:"font-bold text-4xl"}," React Architecture"),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"},' This "Clean" architecture follows the onion architecture principle, and uses dependency injection to maintain modularity of code. The innermost layer is the component, followed by presenters, services, and finally coordinators as the outermost layer. '),r.a.createElement("h3",{className:"mt-5 font-semibold text-dolphin-blue"}," Folder Structure "),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-hidden"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            src/\n              behavior/\n                coordinators/\n                presenters/\n                services/\n              state/\n                actions/\n                reducers/\n              view/\n                components/\n                containers/\n          ")),r.a.createElement("h2",{className:"mt-12 mb-3 border-solid border-b pb-2"}," Behavior "),r.a.createElement("h3",{className:"font-semibold text-dolphin-blue"}," Coordinators "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," Coordinators execute one use case (such as saving an order) and calls a series of single responsibility services to do this. All API calls will be made in coordinators using the rest service."),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," The following is a typical API call use case"),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            const CreateResource = ({ ResourceService, RestService, pRequestResource, pResponseResource }) => async data => {\n              // massage request data\n              const req = pRequestResource( data )\n\n              // make api call\n              let resource = await RestService.post( /api/resource_endpoint, req )\n\n              // massasge response data\n              resource = pResponseResource( resource )\n\n              // a resource redux service that saves the resource into redux state, triggering a rerender of any components that use it\n              ResourceService.setResource( resource )\n            }\n          ")),r.a.createElement("h3",{className:"mt-10 font-semibold text-dolphin-blue"}," Presenters "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," Presenters massage the data that comes to and from the API request/response. For example, a presenter changes Javascript's camelcase code syntax into snakecase before sending it to the Rails API."),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            const pRequestResource = ({ chefPrice, eventDate, name, price }) => {\n              return {\n                chef_price: Number( chefPrice.replace( /[$,]/g, ''))\n                date: Moment( eventDate, 'MM/DD/YYYY' ).format()\n                name,\n                price: Number( price.replace( /[$,]/g, '' )),\n              }\n            }\n\n            const pResponseResource = ({ chef_price, created_at, date, name, price }) => {\n              return {\n                chefPrice: Number( chef_price.replace( /[$,]/g, '' )).toFixed( 2 ),\n                createdAt: Moment( created_at ),\n                date: Moment( date ),\n                name,\n                price: Number( price.replace( /[$,]/g, '' )).toFixed( 2 ),\n              }\n            }\n          ")),r.a.createElement("h3",{className:"mt-10 font-semibold text-dolphin-blue"}," Services "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," The three areas that services generally cover in our codebase are: Api calls, redux state, and business logic."),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            // an API calling service\n            class RestService extends BaseService {\n              post = ( uri, data ) => {\n                return axios.request({ method: 'post', url: uri, data })\n              }\n            }\n          ")),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," Here is a redux method on a service. All services are subclasses of the base service which are all instantiated with redux dispatch and getState"),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            class ResourceService extends BaseService {\n              setResource = resource => {\n                this.dispatch( actions.setResource( resource ))\n              }\n            }\n          ")),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," There can also be business logic methods on services that can be called from coordinators or components. "),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            class ResourceService extends BaseService {\n              ......\n\n              calculateTax = ({ items, serviceFee, foodTaxRate, serviceTaxRate }) => {\n                const foodTotal = items.reduce(( total, item ) => {\n                  return total + item.quantity * item.price\n                }, 0 )\n\n                return foodTotal * foodTaxRate + serviceFee * serviceTaxRate\n              }\n            }\n          ")),r.a.createElement("h2",{className:"mt-12 mb-3 border-solid border-b pb-2"}," State "),r.a.createElement("h3",{className:"font-semibold text-dolphin-blue"}," Actions "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"},"Actions are very simple, containing no logic, and just pass information to redux. Actions tell the reducer the possible actions you can take to change a speficic state. In this case, we will be telling the reducer to set and return our resource state when it switches through the possible actions and stops at SET_RESOURCE (the action we have sent)."),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            const SET_RESOURCE = 'SET_RESOURCE'\n            const setResource = resource => ({ type: SET_RESOURCE, resource })\n          ")),r.a.createElement("h3",{className:"mt-10 font-semibold text-dolphin-blue"}," Reducers "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"},"Logic is avoided in reducers. It just stores and returns the state depending on what action we tell it to take. If no action is given, it will do nothing and return the stored state."),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            const resource = ( state, action ) => {\n              switch( action.type ) {\n              case SET_RESOURCE:\n                return action.resource\n              default:\n                return state\n              }\n            }\n          ")),r.a.createElement("h2",{className:"mt-12 mb-3 border-solid border-b pb-2"}," View "),r.a.createElement("h3",{className:"font-semibold text-dolphin-blue"}," Components "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," Components are dumb and do not perform any logic. Components are only concerned with how things look and are not aware of the Redux state. They get their data from props and can trigger callbacks passed to them via props (from a container or parent component). Any business logic should be injected as a prop method. In a clean architure, the component should ideally accept primitively-typed components, but we're lazy and just pass in objects of PropType shape. "),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            class ResourcePage extends Component {\n              state = {\n                chefPrice: ''\n                eventDate: ''\n                name: '',\n                price: '',\n              }\n\n              onChange = field => e => {\n                this.setState({ [field]: e.target.value })\n              }\n\n              onCreateResource = () => {\n                const { chefPrice, eventDate, name, price } = this.state\n                this.props.createResource( this.state )\n              }\n\n              render() {\n                const { createResource, resource } = this.props\n                const { name } = this.state\n\n                return (\n                  <div>\n                    <h1>{ resource.name }</h1>\n\n                    <input type=\"text\" value={ chefPrice } onInput={ this.onChange( 'chefPrice' ) }>\n                    <input type=\"text\" value={ eventDate } onInput={ this.onChange( 'eventDate' ) }>\n                    <input type=\"text\" value={ name } onInput={ this.onChange( 'name' ) }>\n                    <input type=\"text\" value={ price } onInput={ this.onChange( 'price' ) }>\n                    <button onClick={ this.onCreateResource }>Create Another Resource</button>\n                  </div>\n                )\n              }\n            }\n\n\n            ResourcePage.propTypes = {\n              resource: PropType.object,  // this should ideally be at least PropType.shape({ ... }), but we have become a bit lazy with it. The schema can be found in the presenter anyway\n\n              createResource: PropType.func,\n            }\n          ")),r.a.createElement("h3",{className:"mt-10 font-semibold text-dolphin-blue"}," Containers "),r.a.createElement("p",{className:"mt-2 text-dolphin-blue font-regular leading-normal"}," Containers are a separate file that connect components to the redux store. They receive Redux state updates, inject it into a component as props and dispatch actions. "),r.a.createElement("div",{className:"bg-light-gray mt-3 rounded-sm w-full overflow-x-scroll"},r.a.createElement(m.a,{className:"javascript ml--100"},"\n            const mapStateToProps = state => {\n              return {\n                resource: state.resource,\n              }\n            }\n\n\n            const mapDispatchToProps = dispatch => {\n              return {\n                createResource: data => {\n                  const { CreateResource } = coordinators\n                  const { ResourceService, RestService } = services\n                  const { pRequestResource, pResponseResource } = presenters\n\n                  return CreateResource({ ResourceService, RestService, pRequestResource, pResponseResource })\n                }\n              }\n            }\n\n\n            export default connect( mapStateToProps, mapDispatchToProps )( ResourcePage )\n          ")))},d=function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"text-bold text-4xl"}," Javascript Syntax Guide "))};var p=function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"text-center gradient p-6"},r.a.createElement("h1",{className:"text-white mt-5 text-4xl font-bold"}," Web Guide & Tips")),r.a.createElement("div",{className:"flex items-center justify-center"},r.a.createElement("div",{className:"w-1000 flex mt-12"},r.a.createElement("nav",{className:"flex flex-col w-250 min-w-250"},r.a.createElement("p",{className:"font-bold mb-3"}," JAVASCRIPT "),r.a.createElement(c.b,{to:"/",className:"font-regular text-dolphin-blue mb-2 no-underline hover:underline"},"React Architecture"),r.a.createElement(c.b,{to:"/javascript-syntax-guide",className:"font-regular text-dolphin-blue mb-2 no-underline hover:underline"},"Javascript Syntax Guide"),r.a.createElement("p",{className:"font-bold mt-3 mb-3"}," CSS ")),r.a.createElement(l.a,{exact:!0,path:"/",component:u}),r.a.createElement(l.a,{path:"/javascript-syntax-guide",component:d}))))};o.a.render(r.a.createElement(c.a,null,r.a.createElement(p,null)),document.getElementById("root"))},23:function(e,t,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.890fe516.chunk.js.map